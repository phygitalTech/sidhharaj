<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cost Analysis Dashboard</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-orange-500: rgba(168, 75, 47, 1);
            --color-green-500: rgba(34, 197, 94, 1);
            --color-yellow-500: rgba(234, 179, 8, 1);
            
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-charcoal-700);
            --color-text-secondary: var(--color-slate-500);
            --color-border: rgba(94, 82, 64, 0.2);
            --color-card-border: rgba(94, 82, 64, 0.12);
            
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --radius-base: 8px;
            --radius-lg: 12px;
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
            --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        /* Force light theme - dark mode disabled */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-base);
            background: var(--color-background);
            color: var(--color-text);
            padding: var(--space-24);
            line-height: 1.5;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            margin-bottom: var(--space-32);
        }

        .header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: var(--space-16);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-16);
            margin-bottom: var(--space-32);
        }

        .summary-card {
            background: var(--color-surface);
            padding: var(--space-20);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-md);
        }

        .summary-label {
            font-size: 12px;
            text-transform: uppercase;
            color: var(--color-text-secondary);
            letter-spacing: 0.5px;
            margin-bottom: var(--space-8);
        }

        .summary-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: var(--space-8);
        }

        .summary-percent {
            font-size: 14px;
            color: var(--color-text-secondary);
        }

        .table-container {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            margin-bottom: var(--space-32);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: var(--color-background);
            padding: var(--space-16);
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 2px solid var(--color-border);
        }

        td {
            padding: var(--space-16);
            border-bottom: 1px solid var(--color-card-border);
            font-size: 14px;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--color-background);
        }

        .category-name {
            font-weight: 600;
            font-size: 15px;
        }

        .amount {
            font-weight: 600;
            font-family: monospace;
        }

        .percentage {
            color: var(--color-text-secondary);
            font-size: 13px;
        }

        .variance {
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 13px;
        }

        .variance.positive {
            background: rgba(34, 197, 94, 0.15);
            color: var(--color-green-500);
        }

        .variance.negative {
            background: rgba(255, 84, 89, 0.15);
            color: var(--color-red-400);
        }

        .analysis-section {
            background: var(--color-surface);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--space-24);
        }

        .analysis-header {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: var(--space-20);
            padding-bottom: var(--space-16);
            border-bottom: 2px solid var(--color-border);
        }

        .analysis-item {
            margin-bottom: var(--space-24);
        }

        .analysis-item-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: var(--space-12);
            display: flex;
            align-items: center;
            gap: var(--space-8);
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status-dot.high {
            background: var(--color-red-400);
        }

        .status-dot.medium {
            background: var(--color-yellow-500);
        }

        .status-dot.low {
            background: var(--color-green-500);
        }

        .editable-field {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            background: var(--color-background);
            color: var(--color-text);
            font-family: var(--font-family-base);
            font-size: 14px;
            resize: vertical;
            min-height: 80px;
        }

        .editable-field:focus {
            outline: 2px solid var(--color-teal-500);
            border-color: var(--color-teal-500);
        }

        .field-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
            display: block;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--space-24);
            margin-bottom: var(--space-32);
        }

        .insight-card {
            background: var(--color-surface);
            padding: var(--space-20);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            box-shadow: var(--shadow-md);
        }

        .insight-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-base);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: var(--space-12);
        }

        .insight-icon.up {
            background: rgba(255, 84, 89, 0.15);
            color: var(--color-red-400);
        }

        .insight-icon.down {
            background: rgba(34, 197, 94, 0.15);
            color: var(--color-green-500);
        }

        .insight-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: var(--space-8);
        }

        .insight-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: var(--space-8);
        }

        .insight-description {
            font-size: 13px;
            color: var(--color-text-secondary);
        }

        .btn {
            background: var(--color-teal-500);
            color: white;
            padding: var(--space-12) var(--space-24);
            border: none;
            border-radius: var(--radius-base);
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .btn:hover {
            background: var(--color-teal-300);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--color-background);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: var(--color-surface);
        }

        .action-buttons {
            display: flex;
            gap: var(--space-12);
            margin-top: var(--space-20);
        }

        @media (max-width: 768px) {
            .summary-grid {
                grid-template-columns: 1fr;
            }

            .insights-grid {
                grid-template-columns: 1fr;
            }

            table {
                font-size: 12px;
            }

            th, td {
                padding: var(--space-12);
            }

            body {
                padding: var(--space-16);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Event Cost Analysis Dashboard</h1>
        </div>

        <!-- Summary Cards -->
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-label">After Event Total</div>
                <div class="summary-value">₹9,47,072</div>
                <div class="summary-percent">59.94% of Revenue</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Pre Event Total</div>
                <div class="summary-value">₹11,04,705</div>
                <div class="summary-percent">69.04% of Revenue</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Proposed Target</div>
                <div class="summary-value">₹8,00,000</div>
                <div class="summary-percent">50.00% of Revenue</div>
            </div>
            <div class="summary-card" style="background: linear-gradient(135deg, var(--color-teal-500), var(--color-teal-300)); color: white;">
                <div class="summary-label" style="color: rgba(255,255,255,0.9);">Savings Achieved</div>
                <div class="summary-value">₹1,57,633</div>
                <div class="summary-percent" style="color: rgba(255,255,255,0.9);">From Pre Event</div>
            </div>
        </div>

        <!-- Key Insights -->
        <div class="insights-grid">
            <div class="insight-card">
                <div class="insight-icon up">↑</div>
                <div class="insight-title">Highest Cost Increase</div>
                <div class="insight-value">Material Cost</div>
                <div class="insight-description">Up by ₹3,40,279 (28% → 49.27% in Pre Event)</div>
            </div>
            <div class="insight-card">
                <div class="insight-icon down">↓</div>
                <div class="insight-title">Biggest Savings Opportunity</div>
                <div class="insight-value">Material Cost</div>
                <div class="insight-description">Target: ₹4,48,000 (28%) - Current: ₹6,08,495 (38.51%)</div>
            </div>
            <div class="insight-card">
                <div class="insight-icon down">↓</div>
                <div class="insight-title">Best Performing Category</div>
                <div class="insight-value">Transport Cost</div>
                <div class="insight-description">Below budget at 1.67% vs 3.00% target</div>
            </div>
        </div>

        <!-- Detailed Comparison Table -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Cost Category</th>
                        <th>After Event</th>
                        <th>Pre Event</th>
                        <th>Proposed</th>
                        <th>Variance (After vs Proposed)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="category-name">Material Cost</td>
                        <td>
                            <div class="amount">₹6,08,495</div>
                            <div class="percentage">38.51%</div>
                        </td>
                        <td>
                            <div class="amount">₹7,88,279</div>
                            <div class="percentage">49.27%</div>
                        </td>
                        <td>
                            <div class="amount">₹4,48,000</div>
                            <div class="percentage">28.00%</div>
                        </td>
                        <td>
                            <span class="variance negative">+₹1,60,495</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="category-name">Fuel Cost</td>
                        <td>
                            <div class="amount">₹33,768</div>
                            <div class="percentage">2.14%</div>
                        </td>
                        <td>
                            <div class="amount">₹53,250</div>
                            <div class="percentage">3.33%</div>
                        </td>
                        <td>
                            <div class="amount">₹48,000</div>
                            <div class="percentage">3.00%</div>
                        </td>
                        <td>
                            <span class="variance positive">-₹14,232</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="category-name">Transport Cost</td>
                        <td>
                            <div class="amount">₹26,458</div>
                            <div class="percentage">1.67%</div>
                        </td>
                        <td>
                            <div class="amount">₹13,826</div>
                            <div class="percentage">0.86%</div>
                        </td>
                        <td>
                            <div class="amount">₹48,000</div>
                            <div class="percentage">3.00%</div>
                        </td>
                        <td>
                            <span class="variance positive">-₹21,542</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="category-name">Labour Cost</td>
                        <td>
                            <div class="amount">₹2,62,250</div>
                            <div class="percentage">16.60%</div>
                        </td>
                        <td>
                            <div class="amount">₹2,33,250</div>
                            <div class="percentage">14.58%</div>
                        </td>
                        <td>
                            <div class="amount">₹2,40,000</div>
                            <div class="percentage">15.00%</div>
                        </td>
                        <td>
                            <span class="variance negative">+₹22,250</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="category-name">Overhead Cost</td>
                        <td>
                            <div class="amount">₹16,100</div>
                            <div class="percentage">1.02%</div>
                        </td>
                        <td>
                            <div class="amount">₹16,100</div>
                            <div class="percentage">1.01%</div>
                        </td>
                        <td>
                            <div class="amount">₹16,000</div>
                            <div class="percentage">1.00%</div>
                        </td>
                        <td>
                            <span class="variance negative">+₹100</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Detailed Analysis Section -->
        <div class="analysis-section">
            <div class="analysis-header">Cost Analysis & Action Items</div>

            <!-- Material Cost Analysis -->
            <div class="analysis-item">
                <div class="analysis-item-title">
                    <span class="status-dot high"></span>
                    Material Cost - Critical Attention Required
                </div>
                
                <label class="field-label">Reasons for Cost Increase/Decrease:</label>
                <textarea class="editable-field" id="material-reasons" placeholder="Example: Raw material prices increased by 15%, Outsource vendor charges went up, Quality requirements changed, Waste/disposal increased...">Pre Event showed 49.27% due to last-minute vendor changes and premium ingredient requirements. After Event reduced to 38.51% through better vendor negotiations and inventory planning.</textarea>

                <label class="field-label" style="margin-top: var(--space-16);">Learnings & Improvements for Next Event:</label>
                <textarea class="editable-field" id="material-learnings" placeholder="Example: Negotiate annual contracts with vendors, Reduce waste through better portion control, Source locally when possible, Plan inventory 2 weeks in advance...">1. Lock vendor prices 30 days before event
2. Implement portion control training for kitchen staff
3. Source 60% raw materials locally to reduce costs
4. Reduce outsource vendors from 80% to 60%
5. Create approved vendor list with negotiated rates</textarea>
            </div>

            <!-- Fuel Cost Analysis -->
            <div class="analysis-item">
                <div class="analysis-item-title">
                    <span class="status-dot low"></span>
                    Fuel Cost - Performing Well
                </div>
                
                <label class="field-label">Reasons for Cost Increase/Decrease:</label>
                <textarea class="editable-field" id="fuel-reasons" placeholder="Enter reasons for fuel cost variations...">Achieved 2.14% vs 3% target due to efficient route planning and reduced trips. Pre Event was higher at 3.33% due to multiple last-minute supply runs.</textarea>

                <label class="field-label" style="margin-top: var(--space-16);">Learnings & Improvements for Next Event:</label>
                <textarea class="editable-field" id="fuel-learnings" placeholder="Enter learnings and action items...">1. Continue consolidated delivery approach
2. Use route optimization software
3. Schedule all major deliveries 48 hours before event
4. Maintain fuel efficiency logs per vehicle</textarea>
            </div>

            <!-- Transport Cost Analysis -->
            <div class="analysis-item">
                <div class="analysis-item-title">
                    <span class="status-dot low"></span>
                    Transport Cost - Excellent Performance
                </div>
                
                <label class="field-label">Reasons for Cost Increase/Decrease:</label>
                <textarea class="editable-field" id="transport-reasons" placeholder="Enter reasons for transport cost variations...">Achieved 1.67% vs 3% budget by maximizing in-house vehicle usage (18.29% of trips). Lower vendor dependency reduced costs significantly.</textarea>

                <label class="field-label" style="margin-top: var(--space-16);">Learnings & Improvements for Next Event:</label>
                <textarea class="editable-field" id="transport-learnings" placeholder="Enter learnings and action items...">1. Continue prioritizing in-house vehicles
2. Negotiate better rates with regular transport vendors
3. Consider adding one more vehicle to fleet
4. Create transport schedule template for future events</textarea>
            </div>

            <!-- Labour Cost Analysis -->
            <div class="analysis-item">
                <div class="analysis-item-title">
                    <span class="status-dot medium"></span>
                    Labour Cost - Needs Optimization
                </div>
                
                <label class="field-label">Reasons for Cost Increase/Decrease:</label>
                <textarea class="editable-field" id="labour-reasons" placeholder="Enter reasons for labour cost variations...">At 16.60% vs 15% target. Kitchen labour was 43.04% due to menu complexity. Service staff costs increased for VIP section requirements. Overtime for setup crew added 8% extra cost.</textarea>

                <label class="field-label" style="margin-top: var(--space-16);">Learnings & Improvements for Next Event:</label>
                <textarea class="editable-field" id="labour-learnings" placeholder="Enter learnings and action items...">1. Standardize service staff ratios (1:25 guests)
2. Simplify menu to reduce kitchen labour requirements
3. Better shift planning to minimize overtime
4. Cross-train staff for multiple roles
5. Use 20% outsource vendor labour only for peak demands</textarea>
            </div>

            <!-- Overhead Cost Analysis -->
            <div class="analysis-item">
                <div class="analysis-item-title">
                    <span class="status-dot low"></span>
                    Overhead Cost - On Target
                </div>
                
                <label class="field-label">Reasons for Cost Increase/Decrease:</label>
                <textarea class="editable-field" id="overhead-reasons" placeholder="Enter reasons for overhead cost variations...">Stable at 1.02% vs 1% target. Fixed costs well managed with proper allocation across equipment rental and utilities.</textarea>

                <label class="field-label" style="margin-top: var(--space-16);">Learnings & Improvements for Next Event:</label>
                <textarea class="editable-field" id="overhead-learnings" placeholder="Enter learnings and action items...">1. Maintain current overhead allocation method
2. Review equipment rental contracts annually
3. Track utility costs per event for better forecasting</textarea>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="saveAnalysis()">Save Analysis</button>
                <button class="btn btn-secondary" onclick="exportReport()">Export Report</button>
            </div>
        </div>
    </div>

    <script>
        function saveAnalysis() {
            const analysis = {
                material: {
                    reasons: document.getElementById('material-reasons').value,
                    learnings: document.getElementById('material-learnings').value
                },
                fuel: {
                    reasons: document.getElementById('fuel-reasons').value,
                    learnings: document.getElementById('fuel-learnings').value
                },
                transport: {
                    reasons: document.getElementById('transport-reasons').value,
                    learnings: document.getElementById('transport-learnings').value
                },
                labour: {
                    reasons: document.getElementById('labour-reasons').value,
                    learnings: document.getElementById('labour-learnings').value
                },
                overhead: {
                    reasons: document.getElementById('overhead-reasons').value,
                    learnings: document.getElementById('overhead-learnings').value
                },
                timestamp: new Date().toISOString()
            };

            alert('Analysis saved successfully!\n\nAll your notes and learnings have been recorded for future reference.');
            console.log('Saved Analysis:', analysis);
        }

        function exportReport() {
            const report = generateReport();
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'cost-analysis-report-' + new Date().toISOString().split('T')[0] + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function generateReport() {
            const date = new Date().toLocaleDateString('en-IN');
            
            let report = `EVENT COST ANALYSIS REPORT
Generated: ${date}
Total Revenue: ₹16,00,000

========================================
SUMMARY
========================================
After Event Total: ₹9,47,072 (59.94%)
Pre Event Total: ₹11,04,705 (69.04%)
Proposed Target: ₹8,00,000 (50.00%)
Savings Achieved: ₹1,57,633

========================================
DETAILED COST BREAKDOWN
========================================

1. MATERIAL COST
   After Event: ₹6,08,495 (38.51%)
   Pre Event: ₹7,88,279 (49.27%)
   Proposed: ₹4,48,000 (28.00%)
   Variance: +₹1,60,495 (Over Target)

   Reasons:
   ${document.getElementById('material-reasons').value}

   Learnings & Improvements:
   ${document.getElementById('material-learnings').value}

2. FUEL COST
   After Event: ₹33,768 (2.14%)
   Pre Event: ₹53,250 (3.33%)
   Proposed: ₹48,000 (3.00%)
   Variance: -₹14,232 (Under Target)

   Reasons:
   ${document.getElementById('fuel-reasons').value}

   Learnings & Improvements:
   ${document.getElementById('fuel-learnings').value}

3. TRANSPORT COST
   After Event: ₹26,458 (1.67%)
   Pre Event: ₹13,826 (0.86%)
   Proposed: ₹48,000 (3.00%)
   Variance: -₹21,542 (Under Target)

   Reasons:
   ${document.getElementById('transport-reasons').value}

   Learnings & Improvements:
   ${document.getElementById('transport-learnings').value}

4. LABOUR COST
   After Event: ₹2,62,250 (16.60%)
   Pre Event: ₹2,33,250 (14.58%)
   Proposed: ₹2,40,000 (15.00%)
   Variance: +₹22,250 (Over Target)

   Reasons:
   ${document.getElementById('labour-reasons').value}

   Learnings & Improvements:
   ${document.getElementById('labour-learnings').value}

5. OVERHEAD COST
   After Event: ₹16,100 (1.02%)
   Pre Event: ₹16,100 (1.01%)
   Proposed: ₹16,000 (1.00%)
   Variance: +₹100 (On Target)

   Reasons:
   ${document.getElementById('overhead-reasons').value}

   Learnings & Improvements:
   ${document.getElementById('overhead-learnings').value}

========================================
KEY INSIGHTS
========================================
• Highest Cost Increase: Material Cost (₹3,40,279)
• Biggest Savings Opportunity: Material Cost (₹1,60,495 to reduce)
• Best Performing Category: Transport Cost (1.67% vs 3.00%)

========================================
RECOMMENDATIONS FOR NEXT EVENT
========================================
1. Focus on material cost reduction strategies
2. Maintain current transport efficiency
3. Optimize labour scheduling to reach 15% target
4. Continue overhead cost management practices

========================================
End of Report
========================================`;

            return report;
        }
    </script>
</body>
</html>

